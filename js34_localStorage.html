<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로컬스토리지</title>
</head>
<body>
    <input type="text" id="입력값">
    <button id="저장">저장하기</button>
    <button id="추가">추가하기</button>

    <script>
        // 무언가 값을 저장하고 싶다면 '변수'
        // 변수는 개로고침을 하면 없어짐
        var 변수 = '저장하고 싶은 글자'

        // 페이지를 새로고챔 하거나 새로 열었을떄도 유지하고 싶은 데이터가 있다?
        // 웹에서 제공하는 localStorage 를 활용할수 있음 
        // 변수 = localStorage.getItem('이름')
        // console.log(변수)

        // localStorage.setItem('키','170.0')
        // localStorage.removeItem('키')

        document.getElementById('저장').addEventListener('click',()=>{
            var 입력값 = ""
            입력값 = document.getElementById('입력값').value
                // input에 입력된 값을 변수로 받아서 
                // setItem의 값에 대입
                localStorage.setItem('이름', 입력값)
                alert('이름이' + 입력값 + '으로 변경되었습니다.')
                입력값 = document.getElementById('입력값').value = ''
        })

        // JSON문자열 : 웹에서 배열이나 객체를 사용하기 위한 문자열 형식
        // 배열, 객체 => JSON 으로 변경해서 웹에 적용 
        // 배열(객체) -> JSON문자열
        변수 = [1,2,3]
        변수 = JSON.stringify(변수)            // 배열(객체) -> JSON문자열(웹에서 사용하기위해)

        var json문자열 = '{}'
        JSON.parse(json문자열)          // JSON문자열 -> 배열(객체) (자바스크립트 변수로 사용하기 위해)

        document.getElementById('추가').addEventListener('click',()=>{
            let 임시변수 = localStorage.getItem('저장값')       // [1,2,3]
            // 배열에 값을 하나 더 추가한 다음 json문자열로 바꿔서 setItem
            임시변수 = JSON.parse(임시변수)             // JSON 글자 형식에서 -> 배열 
            const 마지막숫자증가 = 임시변수[임시변수.length-1] + 1
            임시변수.push(마지막숫자증가)    
            임시변수 = JSON.stringify(임시변수)         // 배열 -> JSON 글자 형식

            // 배열 마지막 숫자를 가져와서
            // 더하기 1해서  
            //여기서 배열 마지막 부분에 추가
            localStorage.setItem('저장값', 임시변수)                 // 덮어쓰기
        })

        // localStorage.removeItem('저장값',임시변수)

//         먼저, 변수라는 배열에 [1, 2, 3]의 값을 할당합니다.
// 그런 다음, JSON.stringify() 함수를 사용하여 배열을 JSON 문자열로 변환합니다.
// json문자열이라는 변수에는 비어있는 JSON 객체 {}를 할당합니다.
// JSON.parse() 함수를 사용하여 JSON 문자열을 다시 배열 또는 객체로 변환합니다.
// '추가'라는 id를 가진 요소에 클릭 이벤트 리스너를 추가합니다. 클릭 이벤트가 발생하면 다음 코드 블록이 실행됩니다.
// localStorage.getItem('저장값')을 사용하여 로컬 스토리지에서 '저장값'에 해당하는 값을 가져옵니다. 이 값은 문자열 형태로 반환됩니다.
// 가져온 문자열을 JSON.parse()를 사용하여 배열로 변환합니다.
// 배열의 마지막 요소를 가져와서 1을 더하여 증가된 값을 구합니다.
// 증가된 값을 배열의 마지막에 추가합니다.
// JSON.stringify()를 사용하여 배열을 다시 JSON 문자열로 변환합니다.
// 로컬 스토리지에 새로운 값을 저장합니다.
// 이 코드는 클릭 이벤트가 발생할 때마다 로컬 스토리지에 저장된 배열의 마지막 숫자에 1을 더한 값을 추가하고, 이를 다시 로컬 스토리지에 저장하는 기능을 구현합니다.
    </script>
</body>
</html>

